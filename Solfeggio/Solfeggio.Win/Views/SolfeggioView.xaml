<ContentControl
	x:Class="Solfeggio.Views.SolfeggioView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:c="clr-namespace:Ace.Converters;assembly=Ace.Zest"
	xmlns:m="clr-namespace:Ace.Markup;assembly=Ace.Zest"
	xmlns:vm="clr-namespace:Solfeggio.ViewModels"
	xmlns:p="clr-namespace:Solfeggio.Presenters"
	DataContext="{m:Store Key=vm:SpectralViewModel}"
	HorizontalContentAlignment="Stretch"
	VerticalContentAlignment="Stretch"
	HorizontalAlignment="Stretch"
	VerticalAlignment="Stretch"
	Background="DimGray">

	<Grid m:Rack.Columns="Auto *" m:Rack.Rows="2* *">
		<Grid.Resources>
			<Style TargetType="TextBlock">
				<Setter Property="HorizontalAlignment" Value="Center"/>
				<Setter Property="Margin" Value="5 0"/>
			</Style>
			<c:SwitchConverter x:Key="MarginConverter">
				<m:Case Key="False" Value="0 0 0 0"/>
				<m:Case Key="True" Value="0 0 0 0"/>
			</c:SwitchConverter>
		</Grid.Resources>

		<Canvas
			m:Rack.Set="R0 C0 CS2"
			Name="SpectrumCanvas"
			HorizontalAlignment="Stretch"
			Margin="{Binding ElementName=LogH, Path=IsChecked, Converter={StaticResource MarginConverter}}">
            <Canvas.Background>
                <LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
                    <GradientStop Color="Violet" Offset="0"/>
                    <GradientStop Color="#FF0D0712" Offset="1"/>
                </LinearGradientBrush>
            </Canvas.Background>

			<Polyline Name="MagnitudePolyline" Fill="Yellow" Stroke="Gold" StrokeThickness="1"/>
			<Polyline Name="WaveInPolyline" Stroke="Crimson" StrokeThickness="1" Visibility="{Binding Path=IsChecked, ElementName=WaveInCheckBox, Converter={StaticResource TrueToVisibleConverter}}"/>
			<Polyline Name="WaveOutPolyline" Stroke="YellowGreen" StrokeThickness="1" Visibility="{Binding Path=IsChecked, ElementName=WaveOutCheckBox, Converter={StaticResource TrueToVisibleConverter}}"/>
		</Canvas>

		<Canvas 
			m:Rack.Set="R1 C0 CS2"
			Name="PianoCanvas" 
			Margin="{Binding ElementName=LogH, Path=IsChecked, Converter={StaticResource MarginConverter}}"
			HorizontalAlignment="Stretch"
			Background="#FF616187"/>

		<StackPanel m:Rack.Set="R1 C0" HorizontalAlignment="Left">			
			<ToggleButton Content="🎼" Name="OptionsToggleButton" IsChecked="False"/>
			<ToggleButton Content="📷" IsChecked="{Binding IsPaused, Mode=TwoWay}"/>
		</StackPanel>
	</Grid>

</ContentControl>