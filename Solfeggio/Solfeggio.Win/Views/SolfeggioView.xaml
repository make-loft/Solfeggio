<ContentControl
	x:Class="Solfeggio.Views.SolfeggioView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:m="clr-namespace:Ace.Markup;assembly=Ace"
	xmlns:vm="clr-namespace:Solfeggio.ViewModels"
	xmlns:views="clr-namespace:Solfeggio.Views"
	DataContext="{m:Store Key=vm:SpectralViewModel}"
	HorizontalContentAlignment="Stretch"
	VerticalContentAlignment="Stretch"
	HorizontalAlignment="Stretch"
	VerticalAlignment="Stretch"
	Background="DimGray">

	<Grid
		m:Rack.Columns="* 3*"
		m:Rack.Rows="2* *">

		<Canvas
			m:Rack.Cell="R0 C0 CS2"
			Name="SpectrumCanvas"
			Background="{DynamicResource SpectumBackgroundBrush}">

			<Polyline
				Name="MagnitudePolyline"
				Fill="{DynamicResource MagnitudeSpectrumFillBrush}"
				Stroke="{DynamicResource MagnitudeSpectrumStrokeBrush}"
				StrokeThickness="{DynamicResource MagnitideSpectrumStrokeThickness}" />
			<Polyline
				Name="PhasePolyline"
				Stroke="{DynamicResource WaveOutStrokeBrush}"
				StrokeThickness="{DynamicResource WaveInStrokeThickness}" />
			<Polyline
				Name="WaveInPolyline"
				Stroke="{DynamicResource WaveInStrokeBrush}"
				StrokeThickness="{DynamicResource WaveInStrokeThickness}" />
			<Polyline
				Name="WaveOutPolyline"
				Stroke="{DynamicResource WaveOutStrokeBrush}"
				StrokeThickness="{DynamicResource WaveOutStrokeThickness}" />
		</Canvas>

		<Canvas
			m:Rack.Cell="R1 C0 CS2"
			Name="PianoCanvas"
			HorizontalAlignment="Stretch"
			Background="{DynamicResource PianoCanvasBackgroundBrush}" />

		<StackPanel
			m:Rack.Cell="R1 C0"
			HorizontalAlignment="Left">
			<ToggleButton
				Content="🎼"
				Name="OptionsToggleButton"
				IsChecked="False" />
			<ToggleButton
				Content="📷"
				IsChecked="{Binding IsPaused, Mode=TwoWay}" />
		</StackPanel>

		<Grid
			m:Rack.Cell="R0 C0 CS2"
			Visibility="{Binding ElementName=OptionsToggleButton, Path=IsChecked, Converter={StaticResource TrueToVisibleConverter}}">
			<Grid>
				<Border
					Background="DimGray"
					Opacity=".5" />
				<views:OptionsView />
			</Grid>
		</Grid>

		<ItemsControl
			Rack.Cell="R0 C0"
			Margin="0 32 0 0"
			Foreground="Violet"
			Name="DominatsItemsControl"
			ItemsSource="{m:StoreBinding Path=Dominants, StoreKey=vm:AppViewModel}"
			ItemTemplate="{StaticResource DominantTemplate}" />

	</Grid>

</ContentControl>